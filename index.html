<!DOCTYPE html>
<form id="surveyForm" action="https://formsubmit.co/ma.berghiche@gmail.com" method="POST">
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>استبيان روبوت التنظيف - تفاعلي</title>
<style>
body { font-family:"Tahoma", sans-serif; background:#f5f7fa; margin:0; padding:0; }
.container { max-width:600px; margin:40px auto; background:#fff; border-radius:10px; box-shadow:0 6px 16px rgba(0,0,0,0.08); padding:20px; }
h1 { text-align:center; color:#0b4a6f; }
.step { display:none; }
.step.active { display:block; animation:fadeIn 0.5s; }
@keyframes fadeIn { from {opacity:0;} to {opacity:1;} }
button { padding:12px 20px; font-size:16px; border:none; border-radius:6px; background:#0b6b8f; color:#fff; font-weight:bold; cursor:pointer; margin-top:12px; }
button:active { transform:translateY(1px); }
.progress-bar { background:#d9e2ec; border-radius:6px; overflow:hidden; margin-bottom:20px; height:10px; }
.progress { background:#0b6b8f; height:100%; width:0%; transition:width 0.3s; }
label { display:block; margin:8px 0; cursor:pointer; }
.radio-group label { display:block; margin:4px 0; }
</style>
</head>
<body>
<div class="container">
<h1>استبيان روبوت التنظيف</h1>
<div class="progress-bar"><div class="progress" id="progress"></div></div>

<form id="surveyForm">

<!-- Step 1 -->
<div class="step active">
<h2>العمر</h2>
<div class="radio-group">
<label><input type="radio" name="age" value="under25" required> أقل من 25</label>
<label><input type="radio" name="age" value="25-34"> 25-34</label>
<label><input type="radio" name="age" value="35-44"> 35-44</label>
<label><input type="radio" name="age" value="45plus"> 45+</label>
</div>
<button type="button" onclick="nextStep()">التالي</button>
</div>

<!-- Step 2 -->
<div class="step">
<h2>نوع السكن</h2>
<div class="radio-group">
<label><input type="radio" name="home_type" value="apartment" required> شقة</label>
<label><input type="radio" name="home_type" value="house"> منزل مستقل</label>
<label><input type="radio" name="home_type" value="villa"> فيلا</label>
</div>
<button type="button" onclick="nextStep()">التالي</button>
</div>

<!-- Step 3 -->
<div class="step">
<h2>عدد مرات التنظيف أسبوعياً</h2>
<div class="radio-group">
<label><input type="radio" name="clean_freq" value="daily" required> يومياً</label>
<label><input type="radio" name="clean_freq" value="3-4"> 3-4 مرات</label>
<label><input type="radio" name="clean_freq" value="1-2"> 1-2 مرات</label>
<label><input type="radio" name="clean_freq" value="less"> أقل من مرة</label>
</div>
<button type="button" onclick="nextStep()">التالي</button>
</div>

<!-- Step 4 -->
<div class="step">
<h2>نوع الأرضيات في المنزل</h2>
<div class="radio-group">
<label><input type="checkbox" name="floor_type" value="tiles"> بلاط</label>
<label><input type="checkbox" name="floor_type" value="wood"> أرضية خشبية</label>
<label><input type="checkbox" name="floor_type" value="carpet"> سجّاد/موكيت</label>
</div>
<button type="button" onclick="nextStep()">التالي</button>
</div>

<!-- Step 5 -->
<div class="step">
<h2>وظائف روبوت التنظيف المفضلة</h2>
<div class="radio-group">
<label><input type="radio" name="function" value="vacuum" required> شفط الغبار</label>
<label><input type="radio" name="function" value="wash"> غسل الأرض</label>
<label><input type="radio" name="function" value="sweep"> كنس / تنظيف سطحي</label>
<label><input type="radio" name="function" value="mixed"> جميعها معاً</label>
</div>
<button type="button" onclick="nextStep()">التالي</button>
</div>

<!-- Step 6 -->
<div class="step">
<h2>أعلى سعر مستعد لدفعه</h2>
<div class="radio-group">
<label><input type="radio" name="max_price" value="under25000" required> أقل من 25,000 دج</label>
<label><input type="radio" name="max_price" value="25-40k"> 25,000 - 40,000 دج</label>
<label><input type="radio" name="max_price" value="40-60k"> 40,000 - 60,000 دج</label>
<label><input type="radio" name="max_price" value="60kplus"> أكثر من 60,000 دج</label>
</div>
<button type="button" onclick="nextStep()">التالي</button>
</div>

<!-- Step 7 -->
<div class="step">
<h2>هل تفكر في شراء روبوت تنظيف خلال 12 شهرًا القادمة؟</h2>
<div class="radio-group">
<label><input type="radio" name="buy_intent" value="definitely" required> بالتأكيد</label>
<label><input type="radio" name="buy_intent" value="maybe"> ربما</label>
<label><input type="radio" name="buy_intent" value="no"> لا</label>
</div>
<button type="submit">إرسال</button>
</div>

</form>
<div id="thankyou" style="display:none; text-align:center; margin-top:20px;">
<h2>شكراً لمشاركتك!</h2>
<p>تم إرسال إجاباتك بنجاح.</p>
</div>

<script>
let currentStep=0;
const steps=document.querySelectorAll(".step");
const progress=document.getElementById("progress");

function nextStep(){
  const radios=steps[currentStep].querySelectorAll("input[type=radio]");
  let valid=true;
  for(const r of radios){ if(r.required && !Array.from(radios).some(rb=>rb.checked)){valid=false;} }
  if(!valid){ alert("الرجاء اختيار إجابة واحدة على الأقل للمتابعة"); return; }

  steps[currentStep].classList.remove("active");
  currentStep++;
  if(currentStep<steps.length){
    steps[currentStep].classList.add("active");
  }
  progress.style.width=((currentStep)/steps.length*100)+"%";
}

document.getElementById("surveyForm").addEventListener("submit",function(e){
  e.preventDefault();
  const formData=new FormData(this);
  const data={};
  for(const [k,v] of formData.entries()){
    if(data[k]!==undefined){
      if(!Array.isArray(data[k])) data[k]=[data[k]];
      data[k].push(v);
    }else data[k]=v;
  }
  console.log("Survey Data:", data);
  document.getElementById("surveyForm").style.display="none";
  document.getElementById("thankyou").style.display="block";
});
</script>
</body>
</html>
